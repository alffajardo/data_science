nobs <- append(nobs,n)
}
c.cases <- data.frame(index,nobs)
names(c.cases)[1] <- "id"
return(c.cases)
}
complete("specdata", c(2, 4, 8, 10, 12))
strsplit("0001.csv")
strsplit("0001.csv",split = ".")
strsplit("0001.csv",split = "")
strsplit("0001.csv",)
strsplit("0001.csv")
strsplit("0001.csv",split = '')
pollutantmean <- function(directory,pollutant,id=1:332){
#pollutant <- "nitrate"
#id <- 23
#directory <- "specdata"
if (pollutant=="sulfate"){
c <- 2
} else if (pollutant== "nitrate"){
c <- 3
}
files <- list.files((directory))[id]
all_values <- c()
for (i in files){
file <- paste(directory,i,sep = "/")
values <- read.csv(file)[[c]]
all_values <- append(all_values,values)
}
mean_vals <- mean(all_values,na.rm = T)
return(mean_vals)
}
complete <- function (directory,id){
index <- c()
nobs <- c()
files <- list.files(directory)[id]
for (i in files){
index <- append(index,i)
file <- paste(directory,i,sep = "/")
f <- read.csv(file)
n <- length(complete.cases(f)[complete.cases(f)==T])
nobs <- append(nobs,n)
}
c.cases <- data.frame(index,nobs)
names(c.cases)[1] <- "id"
return(c.cases)
}
pollutantmean("specdata", "sulfate", 1:10)
pollutantmean("specdata", "nitrate", 70:72)
pollutantmean("specdata", "sulfate", 34)
pollutantmean("specdata", "nitrate")
pollutantmean("specdata", "sulfate", 34)
pollutantmean("specdata", "nitrate")
complete <- function (directory,id=1:332,){
index <- c()
nobs <- c()
files <- list.files(directory)[id]
for (i in files){
index <- append(index,i)
file <- paste(directory,i,sep = "/")
f <- read.csv(file)
n <- length(complete.cases(f)[complete.cases(f)==T])
nobs <- append(nobs,n)
}
c.cases <- data.frame(index,nobs)
names(c.cases)[1] <- "id"
return(c.cases)
}
complete <- function (directory,id=1:332){
index <- c()
nobs <- c()
files <- list.files(directory)[id]
for (i in files){
index <- append(index,i)
file <- paste(directory,i,sep = "/")
f <- read.csv(file)
n <- length(complete.cases(f)[complete.cases(f)==T])
nobs <- append(nobs,n)
}
c.cases <- data.frame(index,nobs)
names(c.cases)[1] <- "id"
return(c.cases)
}
source('~/GitHub/data_science/R_programming/proggramming_assigment1.R', echo=TRUE)
source('~/GitHub/data_science/R_programming/proggramming_assigment1.R', echo=TRUE)
pollutantmean("specdata", "sulfate", 1:10)
pollutantmean("specdata", "nitrate")
cc <- complete("specdata", c(6, 10, 20, 34, 100, 200, 310))
print(cc$nobs)
cc <- complete("specdata", 54)
print(cc$nobs)
pollutantmean("specdata", "nitrate")
pollutantmean("specdata", "nitrate")
cc <- complete("specdata", c(6, 10, 20, 34, 100, 200, 310))
print(cc$nobs)
cc <- complete("specdata", 54)
print(cc$nobs)
set.seed(42)
cc <- complete("specdata", 332:1)
use <- sample(332, 10)
print(cc[use, "nobs"])
cr <- corr("specdata")
cr <- sort(cr)
set.seed(868)
out <- round(cr[sample(length(cr), 5)], 4)
print(out)
cr <- corr("specdata")
cr <- sort(cr)
set.seed(868)
out <- round(cr[sample(length(cr), 5)], 4)
print(out)
cr <- cor("specdata")
cr <- sort(cr)
set.seed(868)
out <- round(cr[sample(length(cr), 5)], 4)
print(out)
?corr
library(corrplot)
??corr
getwd
getwd()
f <- read.csv("specdata/001.csv")
complete.cases(f)
complete.cases(f)[complete.cases(f)]
f(complete.cases(f)[complete.cases(f)])
length(complete.cases(f)[complete.cases(f)])
str(f)
files <- dir(directory)
threshold <- 150
directory <- "specdata"
files <- dir(directory)
files
threshold <- 150
directory <- "specdata"
files <- dir(directory)
corrv <- c()
for ( f in files ){
f <- read.csv(f)
}
file <- read.csv(f)
threshold <- 150
directory <- "specdata"
files <- dir(directory)
corrv <- c()
for ( f in files ){
file <- paste(directory,f,sep="/")
file <- read.csv(f)
}
file
getwd()
threshold <- 150
directory <- "specdata"
files <- dir(directory)
files
for ( f in files ){
file <- paste(directory,f,sep="/")
file <- read.csv(f)
}
threshold <- 150
directory <- "specdata"
files <- dir(directory)
corrv <- c()
for ( f in files ){
file <- paste(directory,f,sep="/")
file <- read.csv(f)
}
file
read.csv(file)
threshold <- 150
directory <- "specdata"
files <- dir(directory)
corrv <- c()
for ( f in files ){
file <- paste(directory,f,sep="/")
file <- read.csv(f)
}
file
threshold <- 150
directory <- "specdata"
files <- dir(directory)
corrv <- c()
for ( f in files ){
file <- paste(directory,f,sep="/")
csv <- read.csv(f)
}
file
threshold <- 150
directory <- "specdata"
files <- dir(directory)
files
file
threshold <- 150
directory <- "specdata"
files <- dir(directory)
corrv <- c()
for ( f in files ){
file <- paste(directory,f,sep="/")
csv <- read.csv(file)
}
csv
threshold <- 150
directory <- "specdata"
files <- dir(directory)
corrv <- c()
for ( f in files ){
file <- paste(directory,f,sep="/")
file <- read.csv(file)
}
file
file <- paste(directory,f,sep="/")
file <- read.csv(file)
file <- file[complete.cases(f)]
file
threshold <- 150
directory <- "specdata"
files <- dir(directory)
corrv <- c()
for ( f in files ){
file <- paste(directory,f,sep="/")
file <- read.csv(file)
file <- file[complete.cases(f)]
}
file
threshold <- 150
directory <- "specdata"
files <- dir(directory)
corrv <- c()
for ( f in files ){
file <- paste(directory,f,sep="/")
file <- read.csv(file)
file <- file[complete.cases(file)]
}
threshold <- 150
directory <- "specdata"
files <- dir(directory)
corrv <- c()
for ( f in files ){
file <- paste(directory,f,sep="/")
file <- read.csv(file)
file <- file[complete.cases(file),]
}
file
file$nitrate
cor(file$nitrate,file$sulfate)
corrv <- c()
r
directory <- "specdata"
files <- dir(directory)
corrv <- c()
for ( f in files ){
file <- paste(directory,f,sep="/")
file <- read.csv(file)
file <- file[complete.cases(file),]
if (nrow(file)>threshold){
c <- cor(file$sulfate,file$nitrate)
corrv <- append(corrv,c)
}
}
corrv
head(corrv)
corr <- function(directory, thrshold){
files <- dir(directory)
corrv <- c()
for ( f in files ){
file <- paste(directory,f,sep="/")
file <- read.csv(file)
file <- file[complete.cases(file),]
if (nrow(file)>threshold){
c <- cor(file$sulfate,file$nitrate)
corrv <- append(corrv,c)
}
}
return(corrv)
}
corr <- function(directory, threshold){
files <- dir(directory)
corrv <- c()
for ( f in files ){
file <- paste(directory,f,sep="/")
file <- read.csv(file)
file <- file[complete.cases(file),]
if (nrow(file)>threshold){
c <- cor(file$sulfate,file$nitrate)
corrv <- append(corrv,c)
}
}
return(corrv)
}
cr <- corr("specdata", 150)
head(cr)
summary(cr)
cr <- corr("specdata", 400)
head(cr)
source('~/GitHub/data_science/R_programming/proggramming_assigment1.R', echo=TRUE)
set.seed(42)
cc <- complete("specdata", 332:1)
use <- sample(332, 10)
print(cc[use, "nobs"])
cr <- corr("specdata")
cr <- sort(cr)
set.seed(868)
out <- round(cr[sample(length(cr), 5)], 4)
print(out)
source('~/GitHub/data_science/R_programming/proggramming_assigment1.R', echo=TRUE)
cr <- corr("specdata")
cr <- sort(cr)
set.seed(868)
out <- round(cr[sample(length(cr), 5)], 4)
print(out)
cr <- corr("specdata", 129)
cr <- sort(cr)
n <- length(cr)
set.seed(197)
out <- c(n, round(cr[sample(n, 5)], 4))
print(out)
cr <- corr("specdata", 2000)
n <- length(cr)
cr <- corr("specdata", 1000)
cr <- sort(cr)
print(c(n, round(cr, 4)))
pollutantmean <- function(directory,pollutant,id=1:332){
#pollutant <- "nitrate"
#id <- 23
#directory <- "specdata"
if (pollutant=="sulfate"){
c <- 2
} else if (pollutant== "nitrate"){
c <- 3
}
files <- list.files((directory))[id]
all_values <- c()
for (i in files){
file <- paste(directory,i,sep = "/")
values <- read.csv(file)[[c]]
all_values <- append(all_values,values)
}
mean_vals <- mean(all_values,na.rm = T)
return(mean_vals)
}
complete <- function (directory,id=1:332){
index <- c()
nobs <- c()
files <- list.files(directory)[id]
for (i in files){
index <- append(index,i)
file <- paste(directory,i,sep = "/")
f <- read.csv(file)
n <- length(complete.cases(f)[complete.cases(f)==T])
nobs <- append(nobs,n)
}
c.cases <- data.frame(index,nobs)
names(c.cases)[1] <- "id"
return(c.cases)
}
corr <- function(directory, threshold = 0){
files <- dir(directory)
corrv <- c()
for ( f in files ){
file <- paste(directory,f,sep="/")
file <- read.csv(file)
file <- file[complete.cases(file),]
if (nrow(file)>threshold){
c <- cor(file$sulfate,file$nitrate)
corrv <- append(corrv,c)
}
}
return(corrv)
}
ls()
getwd()
pollutantmean("specdata",20:30)
pollutantmean("specdata","nitrate",20:30)
pollutantmean("specdata","sulfate",20:30)
corr("specdata",300)
corr("specdata",5000)
corr("specdata",1400)
corr("specdata",700)
?iris
head(iris)
iris
tapply(iris$Sepal.Length,iris$Species=="virginica")
tapply(iris$Sepal.Length,iris$Species=="virginica",mean)
tapply(iris$Sepal.Length,iris$Species=="virginica",mean)
library(dplyr)
ls
split(x = iris,iris$Species)
iris_split <- split(iris,iris$Species)
iris_split
iris_split[[5]]
iris_split[[4]]
iris_split[[3]]
iris_split[[3]][[1]]
mean(iris_split[[3]][[1]])
tapply(iris, iris$Species=="virginica", mean)
tapply(iris,iris$Species, mean)
tapply(iris,iris$Species, mean)
tapply(iris$Sepal.Length,iris$Species, mean)
apply(iris,2,mean)
colMeans(iris,2,mean)
colMeans(iris)
apply(iris, 2,mean)
class(apply(iris, 2,mean))
colMeans(iris)
colMeans(iris,na.rm = T)
apply(iris[, 1:4], 1, mean)
apply(iris[, 1:4], 2, mean)
tapply(mtcars$cyl, mtcars$mpg, mean)
ls
ls()
tapply(mtcars$mpg, mtcars$cyl, mean)
mean(mtcars$mpg, mtcars$cyl)
with(mtcars, tapply(mpg, cyl, mean))
sapply(split(mtcars$mpg, mtcars$cyl), mean)
apply(mtcars, 2, mean)
lapply(mtcars, mean)
sapply(mtcars, cyl, mean)
split(mtcars, mtcars$cyl)
?strsplit
strsplit("hola a todos ")
strsplit("hola a todos",split = '')
strsplit("hola a todos",split = ' ')
strsplit("hola a todos",split = '.')
strsplit("hola.a.todos",".")
strsplit("hola.a.todos",split = ":")
strsplit("hola.a.todos",split = ".")
strsplit("hola.a.todos",split = '.')
strsplit("hola.a.todos",split = '')
strsplit("hola.a.todos",split = '.')
strsplit("hola.a.todos",split = ' ')
strsplit("hola.a.todos",split = "a")
strsplit("hola.a.todos",split = ".")
strsplit("hola.a.todos",split = "\.")
strsplit("hola.a.todos",split = ",")
search()
cube <- function(x, n) {
x^3
}
cube <- function(x, n) {
x^3
}
cube(3)
x <- 1:10
if(x > 5) {
x <- 0
}
f <- function(x) {
g <- function(y) {
y + z
}
z <- 4
x + g(x)
}
z <- 10
f(3)
x <- 5
y <- if(x < 3) {
NA
} else {
10
}
y
h <- function(x, y = NULL, d = 3L) {
z <- cbind(x, d)
if(!is.null(y))
z <- z + y
else
z <- z + f
g <- x + y / z
if(d == 3L)
return(g)
g <- g + 10
g
}
f <- function(x) {
g <- function(y) {
y + z
}
z <- 4
x + g(x)
}
z <- 10
f(3)
invisible(x)
x
invisible(x)
mean(x)
traceback()
debug(lm)
lm(x~y)
library(iris)
iris
iris
iris
iris$Sepal.Length
iris
tapply(iris$Sepal.Length,iris$Species,mean)
apply(iris[, 1:4], 2, mean)
library(datasets)
data(mtcars)
tapply(mtcars$mpg, mtcars$cyl, mean)
mean(mtcars$mpg, mtcars$cyl)
with(mtcars, tapply(mpg, cyl, mean))
sapply(split(mtcars$mpg, mtcars$cyl), mean)
apply(mtcars, 2, mean)
lapply(mtcars, mean)
sapply(mtcars, cyl, mean)
split(mtcars, mtcars$cyl)
tapply(mtcars$hp,mtcars$cyl)
tapply(mtcars$hp,mtcars$cyl,mean)
209.21429 - 82.63636
debug(ls)
ls()
